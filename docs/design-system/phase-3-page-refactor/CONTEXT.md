# Phase 3: 页面改造 - 上下文文档

> 本阶段将设计系统应用到具体页面，实现视觉统一

## 阶段目标

对工作台、列表页、详情页、设置页进行设计系统改造，统一视觉风格。

## 前置依赖

- Phase 1（基础主题）已完成
- Phase 2（核心组件）已完成
- StatCard、StatusBadge、EmptyState 组件可用

## 核心改动范围

### 1. 工作台（Dashboard）重构

改造目标页面：`apps/web/src/app/(dashboard)/page.tsx`

新布局结构：
```
┌─────────────────────────────────────────────────────────────┐
│  欢迎横幅（可选，显示待处理任务/告警）                        │
├─────────────────────────────────────────────────────────────┤
│  [StatCard x4] 提示词 | 数据集 | 本周任务 | 通过率            │
├─────────────────────────────────────────────────────────────┤
│  快速开始                    │    最近任务                    │
│  - 新建测试任务按钮          │    - 任务列表（最近5条）        │
│  - 快捷入口（提示词/数据集/模型）│                              │
├─────────────────────────────────────────────────────────────┤
│  执行趋势图表（7天/30天切换）                                │
└─────────────────────────────────────────────────────────────┘
```

改造要点：
- 使用 StatCard 替代原有统计卡片
- 快速开始区域使用 hover-card 效果
- 最近任务使用 StatusBadge 显示状态
- 趋势图表使用品牌色系

### 2. 列表页统一

改造目标页面：
- `apps/web/src/app/(dashboard)/prompts/page.tsx`
- `apps/web/src/app/(dashboard)/datasets/page.tsx`
- `apps/web/src/app/(dashboard)/tasks/page.tsx`

统一布局：
```
┌─────────────────────────────────────────────────────────────┐
│  页面标题                                                    │
├─────────────────────────────────────────────────────────────┤
│  [搜索框]                              [+ 新建（主按钮）]    │
├─────────────────────────────────────────────────────────────┤
│  [筛选器: 状态/类型/时间]                        [重置]      │
├─────────────────────────────────────────────────────────────┤
│  ProTable（应用统一样式）                                    │
│  - 状态列使用 StatusBadge                                   │
│  - 操作列悬浮显示                                           │
│  - 空状态使用 EmptyState                                    │
├─────────────────────────────────────────────────────────────┤
│  [批量操作]                           [分页器]               │
└─────────────────────────────────────────────────────────────┘
```

### 3. 详情页统一

改造目标页面：
- `apps/web/src/app/(dashboard)/prompts/[id]/page.tsx`
- `apps/web/src/app/(dashboard)/tasks/[id]/page.tsx`

统一布局：
```
┌─────────────────────────────────────────────────────────────┐
│  ← 返回    页面标题              [次要操作] [主要操作]       │
├─────────────────────────────────────────────────────────────┤
│  主要内容区 (70%)          │    侧边信息区 (30%)            │
│                           │    - 基本信息                   │
│  编辑器/表单/详情          │    - 操作历史                   │
│                           │    - 相关资源                   │
└─────────────────────────────────────────────────────────────┘
```

### 4. 设置页优化

改造目标页面：`apps/web/src/app/(dashboard)/settings/` 下所有页面

优化要点：
- 表单使用 vertical 布局
- 卡片使用 hover-card 效果
- 危险操作区域使用警告色边框
- 保存按钮使用品牌渐变

## 涉及文件

| 文件 | 操作 | 说明 |
|------|------|------|
| `apps/web/src/app/(dashboard)/page.tsx` | 修改 | 工作台重构 |
| `apps/web/src/app/(dashboard)/prompts/page.tsx` | 修改 | 提示词列表改造 |
| `apps/web/src/app/(dashboard)/datasets/page.tsx` | 修改 | 数据集列表改造 |
| `apps/web/src/app/(dashboard)/tasks/page.tsx` | 修改 | 任务列表改造 |
| `apps/web/src/app/(dashboard)/prompts/[id]/page.tsx` | 修改 | 提示词详情改造 |
| `apps/web/src/app/(dashboard)/tasks/[id]/page.tsx` | 修改 | 任务详情改造 |
| `apps/web/src/app/(dashboard)/settings/**` | 修改 | 设置页优化 |

## 验收标准

- [ ] 工作台使用 StatCard 展示统计数据
- [ ] 所有列表页布局统一
- [ ] 所有状态展示使用 StatusBadge
- [ ] 空数据状态使用 EmptyState
- [ ] 详情页左右布局正确
- [ ] 设置页表单样式统一
- [ ] 主按钮均为品牌渐变色
- [ ] 页面间视觉风格一致

## 技术约束

- 保持现有功能不变
- 遵循 MVU 原则，单次改动 < 5 文件
- 优先改造高频使用页面
- 使用已创建的公共组件

## 改造顺序建议

1. 工作台（影响最大，优先级最高）
2. 提示词列表和详情（核心功能）
3. 任务列表和详情（核心功能）
4. 数据集列表（次要）
5. 设置页（优化性质）

## 参考文档

- 设计系统规范：`docs/design-system/design-system.md` 第六章
- 页面布局规范：`docs/02-page-spec.md`
