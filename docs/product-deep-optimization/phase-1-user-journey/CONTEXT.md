# Phase 1: 用户旅程优化 - 上下文文档

## 阶段目标

从"功能堆砌"转变为"工作流引擎"，构建完整的用户旅程体验。

## 前置依赖

- 无，本阶段为深度优化的起始阶段
- 项目基础功能已完成（Phase 0-10）

## 核心问题

1. 新用户不知道从哪里开始
2. 用户完成操作后不知道下一步做什么
3. 缺乏上下文感知的操作建议

## 功能范围

### 1.1 新用户引导向导
- 3 步完成初始配置（模型、提示词、快速测试）
- 每步都有明确的时间预期
- 配置完成后触发第一个测试任务
- 可跳过/稍后设置选项

### 1.2 上下文感知操作建议
- 检测用户行为，智能推荐下一步操作
- 提示词修改后建议运行测试
- 任务完成后推荐分析或导出

### 1.3 任务完成引导
- 测试完成后展示失败模式摘要
- 提供明确的下一步操作入口
- 优化建议与快捷操作

## 技术要点

- 使用 localStorage 存储引导状态
- 使用 Zustand 管理引导流程状态
- Ant Design Steps 组件实现向导
- 事件监听实现上下文感知

## 涉及文件（预估）

```
apps/web/src/
├── components/
│   └── onboarding/
│       ├── OnboardingModal.tsx       # 引导弹窗
│       ├── StepModelConfig.tsx       # 步骤1：模型配置
│       ├── StepPromptCreate.tsx      # 步骤2：创建提示词
│       ├── StepQuickTest.tsx         # 步骤3：快速测试
│       └── OnboardingProgress.tsx    # 进度指示器
│   └── guidance/
│       ├── ContextualTip.tsx         # 上下文提示组件
│       └── NextStepGuide.tsx         # 下一步引导组件
├── stores/
│   └── onboardingStore.ts            # 引导状态管理
├── hooks/
│   └── useOnboarding.ts              # 引导逻辑钩子
└── app/(dashboard)/
    └── page.tsx                      # 工作台集成引导入口
```

## 验收标准

1. 新用户首次登录显示引导向导
2. 3 步内完成基础配置
3. 用户可随时跳过/恢复引导
4. 提示词修改后自动显示测试建议
5. 任务完成后显示分析引导

## 预估分值提升

- 完成本阶段后：+10 分（40 → 50）
