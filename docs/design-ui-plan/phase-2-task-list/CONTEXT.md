# Phase 2: 任务列表增强

## 阶段概述

**目标**：增强测试任务列表页面，优化进度展示、筛选器和任务卡片设计

**优先级**：P0（核心功能页面）

**前置依赖**：Phase 1 的 StatCard 组件可复用

**涉及页面**：`/tasks` (测试任务列表)

## 当前问题

1. 筛选器较多但布局紧凑
2. 创建任务下拉菜单发现性差
3. 任务进度展示不够直观
4. 空状态引导需强化

## 优化目标

### 任务卡片重构
- 卡片化布局替代表格
- 实时进度条 + 预估剩余时间
- 状态标识更加醒目
- 快捷操作按钮

### 筛选器优化
- 搜索框突出显示
- 筛选器使用 Tag 选择器
- 创建任务按钮使用渐变样式

### 空状态引导
- 引导性文案
- 快速创建入口
- 文档链接

## 设计规范

### 任务卡片布局
```
┌───────────────────────────────────────────────────────────────────┐
│                                                                   │
│  🔵 GPT-4 客服对话测试                                            │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                   │
│  状态: ● 执行中                     进度: ███████░░░ 72%          │
│                                                                   │
│  ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐              │
│  │ 总数    │  │ 已完成   │  │ 通过    │  │ 失败    │              │
│  │ 100     │  │ 72      │  │ 68      │  │ 4       │              │
│  └─────────┘  └─────────┘  └─────────┘  └─────────┘              │
│                                                                   │
│  预估剩余: 2分钟                [查看详情]  [终止]                │
│                                                                   │
└───────────────────────────────────────────────────────────────────┘
```

### 已完成任务卡片
```
┌───────────────────────────────────────────────────────────────────┐
│                                                                   │
│  ✅ 分类模型对比测试                                              │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                                   │
│  状态: ● 已完成                     通过率: 95.2%                 │
│  完成时间: 10分钟前                 耗时: 3分28秒                 │
│                                                                   │
│  [查看详情]  [重新运行]  [导出报告]                               │
│                                                                   │
└───────────────────────────────────────────────────────────────────┘
```

### 状态颜色映射
| 状态 | 颜色 | Badge |
|------|------|-------|
| PENDING | #8c8c8c | ⏳ |
| RUNNING | #1677FF | 🔄 |
| COMPLETED | #52C41A | ✅ |
| FAILED | #FF4D4F | ❌ |
| PAUSED | #FAAD14 | ⏸️ |

## 涉及文件

```
apps/web/src/
├── app/(dashboard)/tasks/page.tsx          # 任务列表页面
├── components/task/
│   ├── TaskCard.tsx                        # 任务卡片组件 (新增)
│   ├── TaskProgress.tsx                    # 进度展示组件 (新增)
│   ├── TaskFilters.tsx                     # 筛选器组件 (新增)
│   ├── TaskEmptyState.tsx                  # 空状态组件 (新增)
│   └── index.ts                            # 导出文件
└── hooks/
    └── useTaskList.ts                      # 任务列表 Hook (优化)
```

## API 依赖

复用现有接口：
- `GET /api/v1/tasks` - 任务列表
- `POST /api/v1/tasks/:id/cancel` - 取消任务
- `POST /api/v1/tasks/:id/rerun` - 重新运行

## 验收标准

### 功能
- [ ] 任务卡片正确展示各状态
- [ ] 进度条实时更新
- [ ] 筛选器正常工作
- [ ] 创建任务入口醒目

### 视觉
- [ ] 卡片样式一致
- [ ] 状态颜色正确
- [ ] 空状态有引导

### 性能
- [ ] 列表滚动流畅
- [ ] 进度更新不卡顿
