# Phase 1: 工作台重构

## 阶段概述

**目标**：重构工作台页面，提升视觉层次、信息密度和数据可视化能力

**优先级**：P0（核心页面，用户首次进入看到的页面）

**前置依赖**：无

**涉及页面**：`/` (工作台)

## 当前问题

1. 统计卡片设计单调，缺少视觉层次
2. "最近任务"区域空状态占用过多空间
3. 快捷入口按钮层次不够清晰
4. 没有展示关键业务趋势

## 优化目标

### 视觉层次
- 统计卡片增加图标背景渐变
- 增加对比数据（较上周/本周增量）
- 趋势指示器（上升/下降箭头）

### 信息密度
- 合理利用页面空间
- 快速开始区域突出核心操作
- 最近任务实时状态展示

### 数据可视化
- 增加执行趋势图表（7天/30天）
- 迷你趋势折线图

## 设计规范

### 颜色体系
```
Primary: #1677FF (Ant Design 蓝)
Success: #52C41A
Warning: #FAAD14
Error: #FF4D4F

背景层次:
- Level 0: #FFFFFF (卡片)
- Level 1: #FAFAFA (页面背景)
- Level 2: #F5F5F5 (分组背景)

强调色:
- Gradient: linear-gradient(135deg, #1677FF, #69B1FF)
- Highlight: #E6F4FF
```

### 布局结构
```
┌─────────────────────────────────────────────────────────────────────────┐
│  工作台                                            👤 管理员  ⚙️ 设置   │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────────────┐   │
│  │📝 提示词 │ │📊 数据集 │ │⚡ 本周任务│ │✅ 通过率 │ │  📈 趋势图     │   │
│  │    12   │ │    8    │ │   25    │ │  87.5%  │ │  [迷你折线图]  │   │
│  │  +2 ↑   │ │  +1 ↑   │ │  +8 ↑   │ │  +2.3%  │ │               │   │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘ └─────────────────┘   │
│                                                                         │
│  ┌───────────────────────────────────┐  ┌───────────────────────────┐   │
│  │ 🚀 快速开始                        │  │ 📌 最近任务               │   │
│  │  + 新建测试任务 (主按钮渐变)       │  │  任务列表 + 实时状态      │   │
│  │  📝 📊 🔧 ⚙️ (次要按钮描边)        │  │                           │   │
│  └───────────────────────────────────┘  └───────────────────────────┘   │
│                                                                         │
│  ┌──────────────────────────────────────────────────────────────────┐  │
│  │ 📊 本周执行趋势                                        [7天/30天] │  │
│  │  [折线图: 执行任务数 / 通过数 / 失败数]                          │  │
│  └──────────────────────────────────────────────────────────────────┘  │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

## 技术选型

- **图表库**：使用 Recharts（轻量，React 友好）
- **动效**：CSS transition + transform
- **组件**：基于 Ant Design Card 扩展

## 涉及文件

```
apps/web/src/
├── app/(dashboard)/page.tsx           # 工作台页面
├── components/dashboard/
│   ├── StatCard.tsx                    # 统计卡片组件 (新增)
│   ├── QuickStart.tsx                  # 快速开始区域 (新增)
│   ├── RecentTasks.tsx                 # 最近任务组件 (新增)
│   └── TrendChart.tsx                  # 趋势图表组件 (新增)
├── hooks/
│   └── useDashboardStats.ts            # 工作台统计数据 Hook (新增)
└── styles/
    └── dashboard.module.css            # 工作台样式 (新增)
```

## API 依赖

需要后端提供以下接口（如已存在则复用）：
- `GET /api/v1/stats/dashboard` - 工作台统计数据
- `GET /api/v1/stats/trend?range=7d|30d` - 趋势数据

## 验收标准

### 功能
- [ ] 统计卡片显示数值、趋势、对比数据
- [ ] 点击卡片可跳转到对应页面
- [ ] 快速开始区域主次按钮层次分明
- [ ] 最近任务列表显示实时状态
- [ ] 趋势图表支持 7天/30天 切换

### 视觉
- [ ] 卡片悬浮有 hover 效果
- [ ] 图标使用渐变背景
- [ ] 趋势箭头颜色正确（上升绿/下降红）

### 性能
- [ ] 首屏加载时间 < 2s
- [ ] 图表渲染流畅

## 任务拆分

详见 `TASKS.md`
