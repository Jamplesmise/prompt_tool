# CLAUDE.md - AI å¼€å‘æŒ‡å¼•

> æœ¬æ–‡ä»¶ä¸º AI åŠ©æ‰‹å¿«é€Ÿäº†è§£é¡¹ç›®çš„å…¥å£æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

AI æ¨¡å‹æµ‹è¯•å¹³å° - é¢å‘ AI å¼€å‘å›¢é˜Ÿçš„æç¤ºè¯æµ‹è¯•ä¸æ¨¡å‹è¯„ä¼°å·¥å…·

**æ ¸å¿ƒåŠŸèƒ½**ï¼šæç¤ºè¯ç‰ˆæœ¬ç®¡ç†ã€æ‰¹é‡æµ‹è¯•æ‰§è¡Œã€çµæ´»è¯„ä¼°å™¨ã€ç»“æœåˆ†æå¯¼å‡ºã€A/B æµ‹è¯•ã€å®šæ—¶ç›‘æ§ã€å¤šå›¢é˜Ÿåä½œ

## æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | Next.js 14 + React 18 + TypeScript + Ant Design 5.x + ProComponents |
| åç«¯ | Next.js API Routes + Prisma + BullMQ |
| æ•°æ®åº“ | PostgreSQL 15 + Redis 7 |
| çŠ¶æ€ç®¡ç† | Zustand + React Query |

## é¡¹ç›®ç»“æ„

```
packages/
  shared/           # å…±äº«ç±»å‹ã€å¸¸é‡ã€çº¯å‡½æ•°
  evaluators/       # è¯„ä¼°å™¨æ ¸å¿ƒé€»è¾‘
apps/
  web/              # Next.js ä¸»åº”ç”¨
  sandbox/          # ä»£ç æ²™ç®±æœåŠ¡
docs/               # è¯¦ç»†è®¾è®¡æ–‡æ¡£
```

## å¸¸ç”¨å‘½ä»¤

```bash
pnpm dev            # å¯åŠ¨å¼€å‘
pnpm build          # æ„å»º
pnpm db:push        # åŒæ­¥æ•°æ®åº“
pnpm db:seed        # åˆå§‹åŒ–æ•°æ®
pnpm lint           # ä»£ç æ£€æŸ¥
```

## AI åŠ©æ‰‹æ“ä½œè§„èŒƒ

- **é•¿æ—¶é—´å‘½ä»¤å¤„ç†**ï¼šå½“å‘½ä»¤æ‰§è¡Œè¶…è¿‡ 30 ç§’æœªå®Œæˆæ—¶ï¼Œåº”ä¸­æ­¢æ“ä½œå¹¶å°†å‘½ä»¤äº¤ç»™ç”¨æˆ·åœ¨å‘½ä»¤è¡Œæ‰‹åŠ¨æ‰§è¡Œ
- **ç½‘ç»œä¾èµ–å‘½ä»¤**ï¼š`pnpm install`ã€`npm install` ç­‰ç½‘ç»œä¾èµ–å‘½ä»¤ï¼Œç›´æ¥æä¾›ç»™ç”¨æˆ·æ‰§è¡Œï¼Œä¸åœ¨ AI ä¼šè¯ä¸­è¿è¡Œ

## å¼€å‘è§„èŒƒ

### å‘½å

- æ–‡ä»¶ï¼š`camelCase.ts`
- ç»„ä»¶ï¼š`PascalCase.tsx`
- ç±»å‹ï¼š`PascalCaseType`
- æšä¸¾ï¼š`PascalCaseEnum`
- å¸¸é‡ï¼š`UPPER_SNAKE_CASE`

### TypeScript

- ä½¿ç”¨ `type` è€Œé `interface`
- ä½¿ç”¨ `import type` å¯¼å…¥ç±»å‹
- ç¦æ­¢ `any`ï¼Œä½¿ç”¨ `unknown`

### API å“åº”æ ¼å¼

```typescript
{ code: 200, message: "success", data: T }
{ code: 4xxxxx, message: "é”™è¯¯æè¿°", data: null }
```

### Git æäº¤

```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤
docs: æ–‡æ¡£
refactor: é‡æ„
chore: æ‚é¡¹
```

## å…³é”®æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | å†…å®¹ |
|------|------|
| `docs/01-product-scope.md` | åŠŸèƒ½è¾¹ç•Œã€æœ¯è¯­å®šä¹‰ã€ç”¨æˆ·æ•…äº‹ |
| `docs/02-page-spec.md` | é¡µé¢å¸ƒå±€ã€ç»„ä»¶è§„æ ¼ |
| `docs/03-api-spec.md` | API æ¥å£å®šä¹‰ |
| `docs/04-database-schema.md` | Prisma Schemaã€JSONB ç»“æ„ |
| `docs/05-evaluator-spec.md` | è¯„ä¼°å™¨ç±»å‹ã€æ‰§è¡Œé€»è¾‘ |
| `docs/06-task-flow.md` | ä»»åŠ¡çŠ¶æ€æœºã€æ‰§è¡Œæµç¨‹ |
| `docs/07-ui-convention.md` | UI ç»„ä»¶é€‰æ‹©ã€ä»£ç ç¤ºä¾‹ |
| `docs/08-project-structure.md` | ç›®å½•ç»“æ„ã€æ–‡ä»¶è§„èŒƒ |
| `docs/09-deployment.md` | ç¯å¢ƒé…ç½®ã€Docker éƒ¨ç½² |

## åˆ†é˜¶æ®µå¼€å‘æ–‡æ¡£

> æŒ‰å¼€å‘é¡ºåºæ’åˆ—ï¼Œæ¯ä¸ªé˜¶æ®µåŒ…å«ä¸Šä¸‹æ–‡ï¼ˆCONTEXT.mdï¼‰å’Œä»»åŠ¡æ¸…å•ï¼ˆTASKS.mdï¼‰

### MVP é˜¶æ®µï¼ˆPhase 0-5ï¼‰âœ… å·²å®Œæˆ

| é˜¶æ®µ | æ–‡ä»¶å¤¹ | å†…å®¹ | çŠ¶æ€ |
|------|--------|------|------|
| Phase 0 | `.claude/phases/phase-0-initialization/` | é¡¹ç›®åˆå§‹åŒ–ï¼šè„šæ‰‹æ¶ã€æ•°æ®åº“ã€åŸºç¡€é…ç½® | âœ… |
| Phase 1 | `.claude/phases/phase-1-infrastructure/` | åŸºç¡€è®¾æ–½ï¼šç”¨æˆ·è®¤è¯ + æ¨¡å‹é…ç½® | âœ… |
| Phase 2 | `.claude/phases/phase-2-core-data/` | æ ¸å¿ƒæ•°æ®ï¼šæç¤ºè¯ç®¡ç† + æ•°æ®é›†ç®¡ç† | âœ… |
| Phase 3 | `.claude/phases/phase-3-evaluators/` | è¯„ä¼°å™¨ï¼šé¢„ç½®è¯„ä¼°å™¨ + ä»£ç è¯„ä¼°å™¨ | âœ… |
| Phase 4 | `.claude/phases/phase-4-task-engine/` | ä»»åŠ¡å¼•æ“ï¼šåˆ›å»ºã€æ‰§è¡Œã€ç›‘æ§ã€ç»“æœ | âœ… |
| Phase 5 | `.claude/phases/phase-5-results-dashboard/` | ç»“æœåˆ†æï¼šå·¥ä½œå°ç»Ÿè®¡ + ç­›é€‰å¯¼å‡º | âœ… |

### V2 é˜¶æ®µï¼ˆPhase 6-9ï¼‰âœ… å·²å®Œæˆ

| é˜¶æ®µ | æ–‡ä»¶å¤¹ | å†…å®¹ | çŠ¶æ€ |
|------|--------|------|------|
| Phase 6 | `.claude/phases/phase-6-advanced-evaluators/` | é«˜çº§è¯„ä¼°å™¨ï¼šLLM è¯„ä¼°å™¨ + ç»„åˆè¯„ä¼°å™¨ | âœ… |
| Phase 7 | `.claude/phases/phase-7-ab-testing/` | A/B æµ‹è¯• + æ–­ç‚¹ç»­è·‘ + æˆæœ¬è®¡ç®— | âœ… |
| Phase 8 | `.claude/phases/phase-8-monitoring/` | å®šæ—¶ç›‘æ§ï¼šå®šæ—¶ä»»åŠ¡ + ç›‘æ§ä¸­å¿ƒ + å‘Šè­¦è§„åˆ™ + é€šçŸ¥æ¸ é“ | âœ… |
| Phase 9 | `.claude/phases/phase-9-project-management/` | é¡¹ç›®ç®¡ç†ï¼šå¤šå›¢é˜Ÿéš”ç¦» + æˆå‘˜ç®¡ç† + æƒé™æ§åˆ¶ + ç³»ç»Ÿè®¾ç½® | âœ… |

### V3 é˜¶æ®µï¼ˆPhase 10+ï¼‰ğŸ“‹ å¾…å¼€å‘

| é˜¶æ®µ | æ–‡ä»¶å¤¹ | å†…å®¹ | çŠ¶æ€ |
|------|--------|------|------|
| Phase 10 | `.claude/phases/phase-10-version-management/` | ç‰ˆæœ¬ç®¡ç†å¢å¼ºï¼šæç¤ºè¯åˆ†æ”¯ç®¡ç† + æ•°æ®é›†ç‰ˆæœ¬ç®¡ç† | ğŸ“‹ |

### éƒ¨ç½²ä¸çŠ¶æ€æ–‡æ¡£

| æ–‡æ¡£ | å†…å®¹ |
|------|------|
| `.claude/phases/DEPLOYMENT.md` | éƒ¨ç½²ä¸æµ‹è¯•ï¼šç¯å¢ƒé…ç½®ã€Dockerã€æµ‹è¯•ç­–ç•¥ |
| `.claude/phases/IMPLEMENTATION-STATUS.md` | åŠŸèƒ½å®ç°çŠ¶æ€æŠ¥å‘Šï¼šè¯¦ç»†å¯¹æ¯”è§„åˆ’ä¸å®ç° |

**ä½¿ç”¨æ–¹å¼**ï¼š
1. æŒ‰é˜¶æ®µé¡ºåºå¼€å‘ï¼Œæ¯ä¸ªé˜¶æ®µæœ‰æ˜ç¡®çš„å‰ç½®ä¾èµ–
2. å¼€å‘å‰é˜…è¯»è¯¥é˜¶æ®µçš„ `CONTEXT.md` äº†è§£ä¸Šä¸‹æ–‡
3. æŒ‰ç…§ `TASKS.md` ä¸­çš„ä»»åŠ¡æ¸…å•é€é¡¹å®Œæˆ
4. åœ¨ `TASKS.md` åº•éƒ¨çš„å¼€å‘æ—¥å¿—ä¸­è®°å½•è¿›åº¦

## MVU åŸåˆ™

å¼€å‘æ—¶éµå¾ª **Minimum Viable Unit**ï¼š

- å•æ¬¡æ”¹åŠ¨ < 5 ä¸ªæ–‡ä»¶
- å•æ¬¡ä»£ç  < 200 è¡Œ
- æ¯ä¸ªå•å…ƒå¯ç‹¬ç«‹è¿è¡ŒéªŒè¯

## å¼€å‘ä¼˜å…ˆçº§

**MVPï¼ˆPhase 0-5ï¼‰**ï¼šâœ… å·²å®Œæˆ
- ç”¨æˆ·è®¤è¯
- æç¤ºè¯ CRUD + ç‰ˆæœ¬
- æ•°æ®é›†ä¸Šä¼ é¢„è§ˆ
- æ¨¡å‹é…ç½®
- åŸºç¡€æµ‹è¯•æ‰§è¡Œ
- é¢„ç½®è¯„ä¼°å™¨ + Node.js ä»£ç è¯„ä¼°å™¨
- ç»“æœæŸ¥çœ‹å¯¼å‡º
- å·¥ä½œå°ç»Ÿè®¡

**V2ï¼ˆPhase 6-7ï¼‰**ï¼šâœ… å·²å®Œæˆ
- LLM è¯„ä¼°å™¨
- ç»„åˆè¯„ä¼°å™¨
- A/B æµ‹è¯•
- æ–­ç‚¹ç»­è·‘ï¼ˆä»»åŠ¡æš‚åœ/æ¢å¤ï¼‰
- æˆæœ¬è®¡ç®—

**V3ï¼ˆPhase 8-9ï¼‰**ï¼šâœ… å·²å®Œæˆ
- å®šæ—¶ä»»åŠ¡ï¼ˆCron è¡¨è¾¾å¼ï¼‰
- ç›‘æ§ä¸­å¿ƒï¼ˆè¶‹åŠ¿å›¾è¡¨ï¼‰
- å‘Šè­¦è§„åˆ™ï¼ˆé˜ˆå€¼è§¦å‘ï¼‰
- é€šçŸ¥æ¸ é“ï¼ˆé‚®ä»¶/Webhookï¼‰
- å¤šå›¢é˜Ÿéš”ç¦»
- æˆå‘˜ç®¡ç†ï¼ˆRBAC æƒé™ï¼‰
- API Token
- æ“ä½œæ—¥å¿—ï¼ˆå®¡è®¡ï¼‰
- ç³»ç»Ÿè®¾ç½®é¡µé¢

**V3ï¼ˆPhase 10+ï¼‰**ï¼šğŸ“‹ å¾…å¼€å‘
- æç¤ºè¯åˆ†æ”¯ç®¡ç†ï¼ˆå®éªŒåˆ†æ”¯ï¼‰
- æ•°æ®é›†ç‰ˆæœ¬ç®¡ç†

## å¿«é€Ÿå¼€å§‹æ–°åŠŸèƒ½

1. æŸ¥é˜… `docs/01-product-scope.md` ç¡®è®¤åŠŸèƒ½åœ¨èŒƒå›´å†…
2. æŸ¥é˜… `docs/03-api-spec.md` äº†è§£ API è®¾è®¡
3. æŸ¥é˜… `docs/04-database-schema.md` äº†è§£æ•°æ®æ¨¡å‹
4. åœ¨ `packages/shared/types/` æ·»åŠ ç±»å‹
5. å®ç° API â†’ Service â†’ Hook â†’ Page
